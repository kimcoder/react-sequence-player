(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1389:function(module,exports,__webpack_require__){var map={"./example/default.story.tsx":1390,"./example/delay.story.tsx":1396};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1389},1390:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(457);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72),_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(200),_sample_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(201),_sample_png__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_sample_png__WEBPACK_IMPORTED_MODULE_4__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("SequencePlayer",module).add("default",(function(){var playerRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),handleControl=function handleControl(action){return function(){switch(action){case"play":playerRef.current.play();break;case"pause":playerRef.current.pause();break;case"resume":playerRef.current.resume();break;case"reverse":playerRef.current.reverse()}}};return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("play")},"PLAY"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("pause")},"PAUSE"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("resume")},"RESUME"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("reverse")},"REVERSE PLAY"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_3__.a,{image:_sample_png__WEBPACK_IMPORTED_MODULE_4___default.a,data:[{x:0,y:0},{x:-183,y:0},{x:-366,y:0},{x:-545,y:0},{x:-732,y:0},{x:0,y:-172},{x:-183,y:-172},{x:-366,y:-172},{x:-549,y:-172},{x:-732,y:-172},{x:0,y:-338},{x:-183,y:-339},{x:-363,y:-338},{x:-549,y:-338}],playerSize:{width:183,height:168},imageSize:{width:918,height:506},ref:playerRef,logging:!0}))}))}.call(this,__webpack_require__(280)(module))},1396:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(457);var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(72),_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(200),_sample_png__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(201),_sample_png__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_sample_png__WEBPACK_IMPORTED_MODULE_4__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_2__.storiesOf)("SequencePlayer",module).add("custom delay, 300",(function(){var playerRef=react__WEBPACK_IMPORTED_MODULE_1__.useRef(null),handleControl=function handleControl(action){return function(){switch(action){case"play":playerRef.current.play();break;case"pause":playerRef.current.pause();break;case"resume":playerRef.current.resume();break;case"reverse":playerRef.current.reverse()}}};return react__WEBPACK_IMPORTED_MODULE_1__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("play")},"PLAY"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("pause")},"PAUSE"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("resume")},"RESUME"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("button",{onClick:handleControl("reverse")},"REVERSE PLAY"),react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_1__.createElement(_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_3__.a,{image:_sample_png__WEBPACK_IMPORTED_MODULE_4___default.a,data:[{x:0,y:0},{x:-183,y:0},{x:-366,y:0},{x:-545,y:0},{x:-732,y:0},{x:0,y:-172},{x:-183,y:-172},{x:-366,y:-172},{x:-549,y:-172},{x:-732,y:-172},{x:0,y:-338},{x:-183,y:-339},{x:-363,y:-338},{x:-549,y:-338}],playerSize:{width:183,height:168},imageSize:{width:918,height:506},ref:playerRef,delay:200,logging:!0}))}))}.call(this,__webpack_require__(280)(module))},200:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(19),__webpack_require__(2),__webpack_require__(282);var _babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(202),_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3__),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),loaderStyle={width:1,height:1,position:"absolute",left:-1e4,top:-1e4,visibility:"hidden"},SequencePlayer=function SequencePlayer(props,ref){var _React$useState=react__WEBPACK_IMPORTED_MODULE_4__.useState(0),_React$useState2=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_React$useState,2),index=_React$useState2[0],setIndex=_React$useState2[1],_React$useState3=react__WEBPACK_IMPORTED_MODULE_4__.useState(!1),_React$useState4=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_React$useState3,2),isPlaying=_React$useState4[0],setIsPlaying=_React$useState4[1],_React$useState5=react__WEBPACK_IMPORTED_MODULE_4__.useState(!1),_React$useState6=_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_3___default()(_React$useState5,2),isReverse=_React$useState6[0],setIsReverse=_React$useState6[1],getSize=function getSize(size){return props.forMobile?Math.round(size/2):size},play=react__WEBPACK_IMPORTED_MODULE_4__.useCallback((function(){var idx=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;isPlaying||(props.logging&&console.log("[SequencePlayer play]",isPlaying),props.onStart&&props.onStart(),setIndex(idx),setIsPlaying(!0),setIsReverse(!1))}),[isPlaying]),reverse=react__WEBPACK_IMPORTED_MODULE_4__.useCallback((function(){isReverse||(props.logging&&console.log("[SequencePlayer reverse]",index),index>0&&!isReverse?(props.onStart&&props.onStart(),setIsReverse(!0),setIsPlaying(!0)):props.logging&&console.log("[SequencePlayer reverse] can not reverse, because idx is 0 or currently is reversing",index))}),[index]),pause=react__WEBPACK_IMPORTED_MODULE_4__.useCallback((function(idx){isPlaying&&(props.logging&&console.log("[SequencePlayer pause]"),idx&&setIndex(idx),setIsPlaying(!1),props.onPaused&&props.onPaused())}),[isPlaying]),resume=react__WEBPACK_IMPORTED_MODULE_4__.useCallback((function(){isPlaying||(props.logging&&console.log("[SequencePlayer resume]"),play(index))}),[index,isPlaying]),update=react__WEBPACK_IMPORTED_MODULE_4__.useCallback((function(){if(isPlaying){props.logging&&console.log("[SequencePlayer update] isReverse:".concat(isReverse," ").concat(index,"/").concat(props.data.length-1));var isFirst=0===index,isLast=props.data.length===index+1;!isReverse&&isLast||isReverse&&isFirst?(setIsPlaying(!1),props.onComplete&&props.onComplete()):isReverse&&index>0?setIndex(index-1):!isReverse&&props.data.length>index+1&&setIndex(index+1)}}),[index,isPlaying,isReverse]);react__WEBPACK_IMPORTED_MODULE_4__.useImperativeHandle(ref,(function(){return{play:play,resume:resume,pause:pause,reverse:reverse}})),react__WEBPACK_IMPORTED_MODULE_4__.useEffect((function(){isPlaying&&setTimeout(update,props.delay||50)}),[index]),react__WEBPACK_IMPORTED_MODULE_4__.useEffect((function(){isPlaying&&update()}),[isPlaying]);var overrideStyle=Object.assign({},props.style,{backgroundRepeat:"no-repeat",backgroundImage:"url(".concat(props.image,")"),backgroundPosition:"".concat(getSize(props.data[index].x),"px ").concat(getSize(props.data[index].y),"px"),width:"".concat(props.playerSize.width,"px"),height:"".concat(props.playerSize.height,"px"),backgroundSize:"".concat(getSize(props.imageSize.width),"px ").concat(getSize(props.imageSize.height),"px")});return react__WEBPACK_IMPORTED_MODULE_4__.createElement(react__WEBPACK_IMPORTED_MODULE_4__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_4__.createElement("img",{style:loaderStyle,src:props.image,onLoad:props.onLoad}),react__WEBPACK_IMPORTED_MODULE_4__.createElement("div",{style:overrideStyle}))};__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_4__.forwardRef(SequencePlayer);try{SequencePlayer.displayName="SequencePlayer",SequencePlayer.__docgenInfo={description:"",displayName:"SequencePlayer",props:{image:{defaultValue:null,description:"Image source",name:"image",required:!0,type:{name:"any"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"SPPosition[]"}},playerSize:{defaultValue:null,description:"",name:"playerSize",required:!0,type:{name:"SPSize"}},imageSize:{defaultValue:null,description:"",name:"imageSize",required:!0,type:{name:"SPSize"}},delay:{defaultValue:null,description:"",name:"delay",required:!1,type:{name:"number"}},logging:{defaultValue:null,description:"",name:"logging",required:!1,type:{name:"boolean"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}},forMobile:{defaultValue:null,description:"",name:"forMobile",required:!1,type:{name:"boolean"}},onLoad:{defaultValue:null,description:"",name:"onLoad",required:!1,type:{name:"(() => void)"}},onStart:{defaultValue:null,description:"",name:"onStart",required:!1,type:{name:"(() => void)"}},onPaused:{defaultValue:null,description:"",name:"onPaused",required:!1,type:{name:"(() => void)"}},onComplete:{defaultValue:null,description:"",name:"onComplete",required:!1,type:{name:"(() => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/SequencePlayer.tsx#SequencePlayer"]={docgenInfo:SequencePlayer.__docgenInfo,name:"SequencePlayer",path:"src/SequencePlayer.tsx#SequencePlayer"})}catch(__react_docgen_typescript_loader_error){}},201:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/sample.d46d8757.png"},470:function(module,exports,__webpack_require__){__webpack_require__(471),__webpack_require__(617),__webpack_require__(618),module.exports=__webpack_require__(769)},535:function(module,exports){},618:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(72)},769:function(module,exports,__webpack_require__){"use strict";__webpack_require__(1),__webpack_require__(58),__webpack_require__(45),__webpack_require__(63),__webpack_require__(38),__webpack_require__(770),__webpack_require__(771),__webpack_require__(6),__webpack_require__(46);var _clientApi=__webpack_require__(159),_clientLogger=__webpack_require__(57),_configFilename=__webpack_require__(772);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},772:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(72),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(458);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({info:{inline:!0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(1389),module)}.call(this,__webpack_require__(280)(module))},775:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":402,"./nestedObjectAssign.js":402};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=775}},[[470,1,2]]]);
//# sourceMappingURL=main.c9218c408ce645c3e5dc.bundle.js.map