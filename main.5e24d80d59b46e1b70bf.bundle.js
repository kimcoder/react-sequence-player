(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1194:function(module,exports,__webpack_require__){var map={"./example/default.story.tsx":1195,"./example/delay.story.tsx":1196};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1194},1195:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(169),_sample_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(170),_sample_png__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_sample_png__WEBPACK_IMPORTED_MODULE_3__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("SequencePlayer",module).add("default",()=>{const playerRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),handleControl=action=>()=>{switch(action){case"play":playerRef.current.play();break;case"pause":playerRef.current.pause();break;case"resume":playerRef.current.resume();break;case"reverse":playerRef.current.reverse()}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("play")},"PLAY"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("pause")},"PAUSE"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("resume")},"RESUME"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("reverse")},"REVERSE PLAY"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_2__.a,{image:_sample_png__WEBPACK_IMPORTED_MODULE_3___default.a,data:[{x:0,y:0},{x:-183,y:0},{x:-366,y:0},{x:-545,y:0},{x:-732,y:0},{x:0,y:-172},{x:-183,y:-172},{x:-366,y:-172},{x:-549,y:-172},{x:-732,y:-172},{x:0,y:-338},{x:-183,y:-339},{x:-363,y:-338},{x:-549,y:-338}],playerSize:{width:183,height:168},imageSize:{width:918,height:506},ref:playerRef,logging:!0}))})}.call(this,__webpack_require__(198)(module))},1196:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(64),_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(169),_sample_png__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(170),_sample_png__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(_sample_png__WEBPACK_IMPORTED_MODULE_3__);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("SequencePlayer",module).add("custom delay, 300",()=>{const playerRef=react__WEBPACK_IMPORTED_MODULE_0__.useRef(null),handleControl=action=>()=>{switch(action){case"play":playerRef.current.play();break;case"pause":playerRef.current.pause();break;case"resume":playerRef.current.resume();break;case"reverse":playerRef.current.reverse()}};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("play")},"PLAY"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("pause")},"PAUSE"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("resume")},"RESUME"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:handleControl("reverse")},"REVERSE PLAY"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_src_SequencePlayer__WEBPACK_IMPORTED_MODULE_2__.a,{image:_sample_png__WEBPACK_IMPORTED_MODULE_3___default.a,data:[{x:0,y:0},{x:-183,y:0},{x:-366,y:0},{x:-545,y:0},{x:-732,y:0},{x:0,y:-172},{x:-183,y:-172},{x:-366,y:-172},{x:-549,y:-172},{x:-732,y:-172},{x:0,y:-338},{x:-183,y:-339},{x:-363,y:-338},{x:-549,y:-338}],playerSize:{width:183,height:168},imageSize:{width:918,height:506},ref:playerRef,delay:200}))})}.call(this,__webpack_require__(198)(module))},169:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const loaderStyle={width:1,height:1,position:"absolute",left:-1e4,top:-1e4,visibility:"hidden"};__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((props,ref)=>{const[index,setIndex]=react__WEBPACK_IMPORTED_MODULE_0__.useState(0),[isPlaying,setIsPlaying]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),[isReverse,setIsReverse]=react__WEBPACK_IMPORTED_MODULE_0__.useState(!1),getSize=size=>props.forMobile?Math.round(size/2):size,play=(idx=0)=>{props.logging&&console.log("[SequencePlayer play]"),props.onStart&&props.onStart(),setIndex(idx),setIsPlaying(!0),setIsReverse(!1),update()},reverse=()=>{props.logging&&console.log("[SequencePlayer reverse]"),index>0?(props.onStart&&props.onStart(),setIsPlaying(!0),setIsReverse(!0),update()):props.logging&&console.log("[SequencePlayer reverse] can not reverse, because idx is 0",index)},pause=idx=>{props.logging&&console.log("[SequencePlayer pause]"),idx&&setIndex(idx),setIsPlaying(!1),props.onPaused&&props.onPaused()},resume=()=>{props.logging&&console.log("[SequencePlayer resume]"),isPlaying?pause():play(index)},update=()=>{if(!isPlaying)return;props.logging&&console.log(`[SequencePlayer update] isReverse:${isReverse} ${index}/${props.data.length-1}`);const isFirst=0===index,isLast=props.data.length===index+1;!isReverse&&isLast?(setIsPlaying(!1),props.onComplete&&props.onComplete()):isReverse&&isFirst?(setIsPlaying(!1),props.onComplete&&props.onComplete()):isReverse&&index>1?setIndex(index-1):!isReverse&&props.data.length>index+1&&setIndex(index+1)};react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref,()=>({play:play,resume:resume,pause:pause,reverse:reverse})),react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{setTimeout(update,props.delay||50)},[index]),react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>{isPlaying&&update()},[isPlaying]),react__WEBPACK_IMPORTED_MODULE_0__.useEffect(()=>()=>{},[]);const overrideStyle={...props.style,backgroundRepeat:"no-repeat",backgroundImage:`url(${props.image})`,backgroundPosition:`${getSize(props.data[index].x)}px ${getSize(props.data[index].y)}px`,width:`${props.playerSize.width}px`,height:`${props.playerSize.height}px`,backgroundSize:`${getSize(props.imageSize.width)}px ${getSize(props.imageSize.height)}px`};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{style:loaderStyle,src:props.image,onLoad:props.onLoad}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{style:overrideStyle}))})},170:function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"9be8f09fd53c5fa1d4bb07828bb01494.png"},390:function(module,exports,__webpack_require__){__webpack_require__(391),__webpack_require__(531),module.exports=__webpack_require__(532)},450:function(module,exports){},532:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(64),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(376);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({info:{inline:!0}}),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(__webpack_require__(1194),module)}.call(this,__webpack_require__(198)(module))},710:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":346,"./nestedObjectAssign.js":346};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=710}},[[390,1,2]]]);
//# sourceMappingURL=main.5e24d80d59b46e1b70bf.bundle.js.map